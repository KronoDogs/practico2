Variable = c("Clase Social", "afav.venz", "afav.latin", "conf.md"),
Media = media,
Mediana = mediana,
Moda = moda
)
# Formatear la tabla con kableExtra
tabla_mtc<- tabla_descriptiva %>%
kbl() %>%
kable_styling(full_width = FALSE) %>%
row_spec(0, bold = TRUE)
# Mostrar la tabla en el Viewer de RStudio
tabla_mtc
install.packages("xfun")
pacman::p_load(sjmisc, car, sjlabelled, haven)
pacman::p_load(sjlabelled,
dplyr,
stargazer,
summarytools,
kableExtra,
sjPlot,
corrplot,
sessioninfo,
ggplot2,
tidyverse,
xfun)
install.packages("rmarkdown")
install.packages("rmarkdown")
library(rmarkdown)
pacman::p_load(sjmisc, car, sjlabelled, haven)
pacman::p_load(sjlabelled,
dplyr,
stargazer,
summarytools,
kableExtra,
sjPlot,
corrplot,
sessioninfo,
ggplot2,
tidyverse,
xfun)
load("input/data/proc_data.RData")
#Tabla descriptiva de las medidas de tendencia central
# Calcular la moda
get_mode <- function(x) {
ux <- unique(x)
ux[which.max(tabulate(match(x, ux)))]
}
# Calcular las medidas de tendencia central
media <- c(mean(proc_data$clasesocial), mean(proc_data$afav.venz), mean(proc_data$afav.latin), mean(proc_data$conf.md))
mediana <- c(median(proc_data$clasesocial), median(proc_data$afav.venz), median(proc_data$afav.latin), median(proc_data$conf.md))
moda <- c(get_mode(proc_data$clasesocial), get_mode(proc_data$afav.venz), get_mode(proc_data$afav.latin), get_mode(proc_data$conf.md))
# Crear la tabla descriptiva
tabla_descriptiva <- data.frame(
Variable = c("Clase Social", "afav.venz", "afav.latin", "conf.md"),
Media = media,
Mediana = mediana,
Moda = moda
)
# Formatear la tabla con kableExtra
tabla_mtc<- tabla_descriptiva %>%
kbl() %>%
kable_styling(full_width = FALSE) %>%
row_spec(0, bold = TRUE)
# Mostrar la tabla en el Viewer de RStudio
tabla_mtc
install.packages("rmarkdown")
library(rmarkdown)
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
#| warning: false
#| echo: false
pacman::p_load(sjmisc, car, sjlabelled, haven)
pacman::p_load(sjlabelled,
dplyr,
stargazer,
summarytools,
kableExtra,
sjPlot,
corrplot,
sessioninfo,
ggplot2,
tidyverse,
xfun)
sjt.xtab(proc_data$clasesocial, proc_data$conf.md, encoding = "UTF-12")
library(sjlabelled)
library(sjmisc)
library(sjPlot)
pacman::p_load(dplyr, sjmisc, car, sjlabelled, stargazer, haven)
#Librerias para graficos y tablas
pacman::p_load(sjlabelled,
dplyr,
stargazer,
sjmisc,
summarytools,
kableExtra,
sjPlot,
corrplot,
sessioninfo,
ggplot2,
haven,
tidyverse)
sjt.xtab(proc_data$clasesocial, proc_data$conf.md, encoding = "UTF-12")
frq(proc_data$conf.md)
frq(proc_data$afav.latin)
frq(proc_data$afav.venz)
frq(proc_data$clasesocial)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~clasesocial)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
pacman::p_load(dplyr, sjmisc, car, sjlabelled, stargazer, haven)
#Librerias para graficos y tablas
pacman::p_load(sjlabelled,
dplyr,
stargazer,
sjmisc,
summarytools,
kableExtra,
sjPlot,
corrplot,
sessioninfo,
ggplot2,
haven,
tidyverse)
frq(proc_data$clasesocial)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~clasesocial)
frq(proc_data$afav.latin)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
frq(proc_data$conf.md)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~clasesocial)
#Lo mismo, pero con la inmigracion venezolana
proc_data %>% ggplot(aes(x = afav.venz)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
frq(proc_data$afav.venz)
#Lo mismo, pero con la inmigracion venezolana
proc_data %>% ggplot(aes(x = afav.venz)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
frq(proc_data$afav.venz)
frq(proc_data$conf.md)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
#Lo mismo, pero con la inmigracion venezolana
proc_data %>% ggplot(aes(x = afav.venz)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
graf.in
#| warning: false
#| echo: false
graf.in <- sjPlot::plot_stackfrq(dplyr:: select(proc_data, afav.venz,
afav.latin),
title= "A favor de la inmigración: Chile") +
theme(legend.position="bottom")
graf.in
#| warning: false
#| echo: false
graf.in <- sjPlot::plot_stackfrq(dplyr:: select(proc_data, afav.venz,
afav.latin),
title= "A favor de la inmigración: Chile") +
theme(legend.position="bottom")
graf.in
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~clasesocial)
frq(proc_data$afav.latin)
frq(proc_data$clasesocial)
#| warning: false
#| echo: false
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
frq(proc_data$conf.md)
frq(proc_data$afav.latin)
proc_data %>% ggplot(aes(x = afav.latin)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
#| warning: false
#| echo: false
proc_data %>% ggplot(aes(x = afav.venz)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
#Lo mismo, pero con la inmigracion venezolana: Este se utilizó para Quarto
proc_data %>% ggplot(aes(x = afav.venz)) +
geom_bar() +
xlab("A favor de la inmigración latina") +
ylab("Cantidad")+
facet_wrap(~conf.md)
frq(proc_data$afav.venz)
frq(proc_data$conf.md)
proc_data %>% ggplot(aes(x = conf.md)) + geom_bar(fill="purple")
tabla.afav.venz <- table(proc_data$afav.venz)
tabla.afav.venz <- table(proc_data$afav.venz)
#Librerias para graficos y tablas
pacman::p_load(sjlabelled,
dplyr,
stargazer,
sjmisc,
summarytools,
kableExtra,
sjPlot,
corrplot,
sessioninfo,
ggplot2,
haven,
tidyverse)
pacman::p_load(dplyr, sjmisc, car, sjlabelled, stargazer, haven)
tabla.afav.venz <- table(proc_data$afav.venz)
View(tabla_descriptiva)
frec.afav.venz <- table(proc_data$afav.venz)
frec.afav.venz
frec.afav.venz <- table(proc_data$afav.venz)
frec.afav.venz
# Convertir las tablas de frecuencia en data frames
df_afav_venz <- as.data.frame(frec.afav.venz)
frec.afav.latin <- table(proc_data$afav.latin)
frec.conf.md <- table(proc_data$conf.md)
df_afav_latin <- as.data.frame(frec.afav.latin)
df_conf_md <- as.data.frame(frec.conf.md)
# Gráfico de barras para la variable "afav.venz"
grafico_afav_venz <- ggplot(df_afav_venz, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity") +
labs(title = "Tabla de Frecuencia - Afav. Venezuela",
x = "Categoría",
y = "Frecuencia")
# Gráfico de barras para la variable "afav.latin"
grafico_afav_latin <- ggplot(df_afav_latin, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity") +
labs(title = "Tabla de Frecuencia - Afav. Latinoamérica",
x = "Categoría",
y = "Frecuencia")
# Gráfico de barras para la variable "conf.md"
grafico_conf_md <- ggplot(df_conf_md, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity") +
labs(title = "Tabla de Frecuencia - Conf. Médica",
x = "Categoría",
y = "Frecuencia")
View(grafico_afav_latin)
grafico_afav_latin
view(tabla.afav.venz)
frq(proc_data$conf.md)
frq(proc_data$afav.latin)
frq(proc_data$afav.venz)
#| warning: false
#| echo: false
frq(proc_data$conf.md)
{css}
{r}
frq(proc_data$conf.md)
View(latinobarometro2020)
View(proc_data)
View(proc_data)
View(latinobarometro2020)
frq(proc_data$conf.md)
pacman::p_load(dplyr, sjmisc, car, sjlabelled, stargazer, haven)
#Librerias para graficos y tablas
pacman::p_load(sjlabelled,
dplyr,
stargazer,
sjmisc,
summarytools,
kableExtra,
sjPlot,
corrplot,
sessioninfo,
ggplot2,
haven,
tidyverse)
frq(proc_data$conf.md)
View(df_afav_latin)
proc_data <- latinobarometro2020 %>% select(p15st_d, # Medios de comunicacion
p37n_b, # A favor de recibir Inmigrantes Latinos
p37n_d, # A favor de recibir Inmigrantes venezolanos
s1, # Clase social
sexo, # sexo
edad, #edad
idenpa, # pais
p37n_c, # A favor de recibir Inmigrantes haitianos
p39st_b, # Indice negativo inmigracion: trabajo
p39n_c, # Indice negativo inmigracion: crimen
p39n_e) # Indice negativo inmigracion: carga E
# Comprobar y solo datos para Chile
names(proc_data)
proc_data <- proc_data %>% dplyr::filter(idenpa==152)
proc_data$p37n_c <- recode(proc_data$p37n_d, "c(-5,-4,-3,-2,-1,9)=NA")
proc_data$p37n_c <- recode(proc_data$p37n_d, "1=3; 2=2; 3=1; 4=0")
proc_data <- proc_data %>% rename("conf.md"=p15st_d, # Confianza en los medios de comunicacion
"afav.latin"=p37n_b, # A favor de la inmigracion latina
"afav.venz"=p37n_d, # A favor de la inmigracion venezolana
"clasesocial"=s1, # Clase social
"afav.hait"=p37n_c) # A favor de la inmigración hatiana
proc_data$afav.hait <- set_label(x = proc_data$afav.hait,label = "A favor: Haitianos")
frq(proc_data$afav.hait)
proc_data$p37n_c <- recode(proc_data$p37n_c, "c(-5,-4,-3,-2,-1,9)=NA")
rm(list=ls())
#cargamos la base de datos desde internet
load(url("https://github.com/Kevin-carrasco/metod1-MCS/raw/main/files/data/external_data/latinobarometro2020.RData"))
proc_data <- latinobarometro2020 %>% select(p15st_d, # Medios de comunicacion
p37n_b, # A favor de recibir Inmigrantes Latinos
p37n_d, # A favor de recibir Inmigrantes venezolanos
s1, # Clase social
sexo, # sexo
edad, #edad
idenpa, # pais
p37n_c, # A favor de recibir Inmigrantes haitianos
p39st_b, # Indice negativo inmigracion: trabajo
p39n_c, # Indice negativo inmigracion: crimen
p39n_e) # Indice negativo inmigracion: carga E
# Comprobar y solo datos para Chile
names(proc_data)
proc_data <- proc_data %>% dplyr::filter(idenpa==152)
proc_data$p15st_d <- recode(proc_data$p15st_d, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p37n_b <- recode(proc_data$p37n_b, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p37n_d <- recode(proc_data$p37n_d, "c(-5,-4,-3,-2,-1,9)=NA")
proc_data$p37n_c <- recode(proc_data$p37n_c, "c(-5,-4,-3,-2,-1,9)=NA")
proc_data$s1 <- recode(proc_data$s1, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p15st_d <- recode(proc_data$p15st_d, "1=3; 2=2; 3=1; 4=0")
proc_data$p37n_b <- recode(proc_data$p37n_b, "1=3; 2=2; 3=1; 4=0")
proc_data$p37n_d <- recode(proc_data$p37n_d, "1=3; 2=2; 3=1; 4=0")
proc_data$p37n_c <- recode(proc_data$p37n_c, "1=3; 2=2; 3=1; 4=0")
proc_data$s1 <- recode(proc_data$s1, "1=5; 2=4; 3=3; 4=2; 5=1")
proc_data <- proc_data %>% rename("conf.md"=p15st_d, # Confianza en los medios de comunicacion
"afav.latin"=p37n_b, # A favor de la inmigracion latina
"afav.venz"=p37n_d, # A favor de la inmigracion venezolana
"clasesocial"=s1, # Clase social
"afav.hait"=p37n_c) # A favor de la inmigración hatiana
proc_data$conf.md <- set_label(x = proc_data$conf.md,label = "Confianza en Medios")
get_label(proc_data$conf.md)
proc_data$afav.latin <- set_label(x = proc_data$afav.latin,label = "A favor: Latinos")
get_label(proc_data$afav.latin)
proc_data$afav.venz <- set_label(x = proc_data$afav.venz,label = "A favor: Venezolanos")
get_label(proc_data$afav.venz)
proc_data$clasesocial <- set_label(x = proc_data$clasesocial,label = "Clase Social")
get_label(proc_data$clasesocial)
proc_data$afav.hait <- set_label(x = proc_data$afav.hait,label = "A favor: Haitianos")
get_label(proc_data$afav.hait)
frq(proc_data$afav.hait)
proc_data$p37n_c <- recode(proc_data$p37n_c, "1=3; 2=2; 3=1; 4=0")
frq(proc_data$afav.hait)
rm(list=ls())
#cargamos la base de datos desde internet
load(url("https://github.com/Kevin-carrasco/metod1-MCS/raw/main/files/data/external_data/latinobarometro2020.RData"))
proc_data <- latinobarometro2020 %>% select(p15st_d, # Medios de comunicacion
p37n_b, # A favor de recibir Inmigrantes Latinos
p37n_d, # A favor de recibir Inmigrantes venezolanos
s1, # Clase social
sexo, # sexo
edad, #edad
idenpa, # pais
p37n_c, # A favor de recibir Inmigrantes haitianos
p39st_b, # Indice negativo inmigracion: trabajo
p39n_c, # Indice negativo inmigracion: crimen
p39n_e) # Indice negativo inmigracion: carga E
# Comprobar y solo datos para Chile
names(proc_data)
proc_data <- proc_data %>% dplyr::filter(idenpa==152)
proc_data$p15st_d <- recode(proc_data$p15st_d, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p37n_b <- recode(proc_data$p37n_b, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p37n_d <- recode(proc_data$p37n_d, "c(-5,-4,-3,-2,-1,9)=NA")
proc_data$p37n_c <- recode(proc_data$p37n_c, "c(-5,-4,-3,-2,-1,0)=NA")
proc_data$s1 <- recode(proc_data$s1, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p15st_d <- recode(proc_data$p15st_d, "1=3; 2=2; 3=1; 4=0")
proc_data$p37n_b <- recode(proc_data$p37n_b, "1=3; 2=2; 3=1; 4=0")
proc_data$p37n_d <- recode(proc_data$p37n_d, "1=3; 2=2; 3=1; 4=0")
proc_data$p37n_c <- recode(proc_data$p37n_c, "1=3; 2=2; 3=1; 4=0")
proc_data$s1 <- recode(proc_data$s1, "1=5; 2=4; 3=3; 4=2; 5=1")
proc_data <- proc_data %>% rename("conf.md"=p15st_d, # Confianza en los medios de comunicacion
"afav.latin"=p37n_b, # A favor de la inmigracion latina
"afav.venz"=p37n_d, # A favor de la inmigracion venezolana
"clasesocial"=s1, # Clase social
"afav.hait"=p37n_c) # A favor de la inmigración hatiana
proc_data$conf.md <- set_label(x = proc_data$conf.md,label = "Confianza en Medios")
get_label(proc_data$conf.md)
proc_data$afav.latin <- set_label(x = proc_data$afav.latin,label = "A favor: Latinos")
get_label(proc_data$afav.latin)
proc_data$afav.venz <- set_label(x = proc_data$afav.venz,label = "A favor: Venezolanos")
get_label(proc_data$afav.venz)
proc_data$clasesocial <- set_label(x = proc_data$clasesocial,label = "Clase Social")
get_label(proc_data$clasesocial)
proc_data$afav.hait <- set_label(x = proc_data$afav.hait,label = "A favor: Haitianos")
get_label(proc_data$afav.hait)
frq(proc_data$afav.hait)
frq(proc_data$afav.latin)
frq(proc_data$conf.md)
frq(proc_data$afav.latin)
frq(proc_data$afav.venz)
frq(proc_data$clasesocial)
proc_data$conf.md <- set_labels(proc_data$conf.md,
labels=c("Ninguna"=0,
"Poca"=1,
"Algo"=2,
"Mucha"=3))
proc_data$afav.latin <- set_labels(proc_data$afav.latin,
labels=c("Muy negativo"=0,
"Negativo"=1,
"Positivo"=2,
"Muy positivo"=3))
proc_data$afav.venz <- set_labels(proc_data$afav.venz,
labels=c("Muy negativo"=0,
"Negativo"=1,
"Positivo"=2,
"Muy positivo"=3))
proc_data$afav.hait <- set_labels(proc_data$afav.hait,
labels=c("Muy negativo"=0,
"Negativo"=1,
"Positivo"=2,
"Muy positivo"=3))
proc_data$clasesocial <- set_labels(proc_data$clasesocial,
labels=c("Alta"=5,
"Media alta"=4,
"Media"=3,
"Media baja"=2,
"Baja"=1))
frq(proc_data$conf.md)
frq(proc_data$afav.latin)
frq(proc_data$afav.venz)
frq(proc_data$clasesocial)
frq(proc_data$afav.hait)
View(proc_data)
#---------------Ahora recodificamos más variables para el posterior indice
frq(proc_data$p39st_b)
proc_data$p39st_b <- recode(proc_data$p39st_b, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p39st_b <- recode(proc_data$p39st_b, "1=3; 2=2; 3=1; 4=0")
proc_data <- proc_data %>% rename("in.trabajo"=p39st_b)
proc_data$in.trabajo <- set_label(x = proc_data$in.trabajo,label = "Inmigrantes quitan trabajo")
get_label(proc_data$in.trabajo)
proc_data$in.trabajo <- set_labels(proc_data$in.trabajo,
labels=c("Alta"=5,
"Media alta"=4,
"Media"=3,
"Media baja"=2,
"Baja"=1))
frq(proc_data$in.trabajo)
frq(proc_data$afav.hait)
proc_data$in.trabajo <- set_labels(proc_data$in.trabajo,
labels=c("Muy negativo"=0,
"Negativo"=1,
"Positivo"=2,
"Muy positivo"=3))
frq(proc_data$in.trabajo)
frq(proc_data$afav.latin)
frq(proc_data$p39st_c)
frq(proc_data$p39n_c)
proc_data$p39n_c <- recode(proc_data$p39n_c, "c(-5,-4,-3,-2,-1)=NA")
proc_data$p39n_c <- recode(proc_data$p39n_c, "1=3; 2=2; 3=1; 4=0")
proc_data <- proc_data %>% rename("in.crimen"=p39n_c)
proc_data$in.trabajo <- set_label(x = proc_data$in.crimen,label = "Inmigrantes aumentan el crimen")
get_label(proc_data$in.crimen)
proc_data$in.crimen <- set_labels(proc_data$in.crimen,
labels=c("Muy negativo"=0,
"Negativo"=1,
"Positivo"=2,
"Muy positivo"=3))
frq(proc_data$in.crimen)
proc_data$afav.latin <- set_labels(proc_data$afav.latin,
labels=c("Muy en desacuerdo"=0,
"En desacuerdo"=1,
"De Acuerdo"=2,
"Muy de acuerdo"=3))
proc_data$afav.venz <- set_labels(proc_data$afav.venz,
labels=c("Muy en desacuerdo"=0,
"En desacuerdo"=1,
"De Acuerdo"=2,
"Muy de acuerdo"=3))
proc_data$afav.hait <- set_labels(proc_data$afav.hait,
labels=c("Muy en desacuerdo"=0,
"En desacuerdo"=1,
"De Acuerdo"=2,
"Muy de acuerdo"=3))
